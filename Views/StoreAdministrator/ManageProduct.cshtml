@model ProductDetailsBindingModel
@{
	ViewBag.Title = "Вид продукта";
}
<div class="container">
	<div class="row">
		<h2>Информация о типе товара</h2>
	</div>
	<div class="row">
		<form enctype="multipart/form-data" asp-action="ManageProduct" method="post">
			<input readonly hidden asp-for="Id">
			<input readonly hidden asp-for="StoreId">
			<input readonly hidden asp-for="Category">

			<div class="form-group mb-2">
				<label asp-for="Country">Код страны (две буквы)</label>
				<input asp-for="Country" class="form-control" placeholder="RU">
				<span asp-validation-for="Country" class="text-danger"></span>
			</div>

			<div class="form-group mb-2">
				<label asp-for="Model">Модель</label>
				<input asp-for="Model" class="form-control" placeholder="Intel Core i3">
				<span asp-validation-for="Model" class="text-danger"></span>
			</div>

			<div class="form-group mb-2">
				<label asp-for="Description">Описание</label>
				<input asp-for="Description" class="form-control" placeholder="Многословное описание товара">
			</div>

			<div class="form-group mb-2">
				<label asp-for="Price">Цена</label>
				<input asp-for="Price" class="form-control" placeholder="99.99 рублей">
				<span asp-validation-for="Price" class="text-danger"></span>
			</div>

			@if(Model.CpuDetails != null)
			{
				@Html.EditorFor(m => m.CpuDetails!);
			}
			else if(Model.GpuDetails != null)
			{
				@Html.EditorFor(m => m.GpuDetails!);
			}
			else if(Model.RamDetails != null)
			{
				@Html.EditorFor(m => m.RamDetails!);
			}

			<div class="form-group mb-2">
				<label asp-for="NewPhotos">Загрузите новую фотку</label>
				<input asp-for="NewPhotos" type="file" multiple class="form-control" id="formFileMultiple">
				<span asp-validation-for="NewPhotos" class="text-danger"></span>
			</div>

			<button type="submit" class="btn btn-primary">Сохранить</button>
		</form>
	</div>

	<div class="galery row">
		<h2>Галерея</h2>
		@if(Model.Pictures.Count == 0)
		{
			<p>Здесь пока что пусто</p>
		}
		@foreach (ProductPicture picture in Model.Pictures)
		{
			<button>Вправо</button>
			<button>Влево</button>
			<img src=@($"{ProductPicture.PATH}{picture.FileName}") alt="Картинка" class="order-@picture.OrderNumber">
			<button asp-action="deletePhoto" asp-route-id="@picture.Id">Удалить фотку</button>
		}
	</div>
</div>